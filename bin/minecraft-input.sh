#!/bin/bash
# ============================================================
# minecraft-input.sh
# ============================================================
#
# 概要:
#   Minecraft用の日本語入力支援ツール
#
# 用途:
#   Minecraftゲーム内で日本語を入力する際に使用
#   ゲームは英語入力のみ対応のため、このスクリプトで日本語をペースト
#
# 依存関係:
#   - zenity（ダイアログ表示用）
#   - xclip（クリップボード操作用）
#   - xdotool（キー入力エミュレート用）
#
# 使用方法:
#   1. このスクリプトを実行（ショートカットキーに割り当てると便利）
#   2. ポップアップ表示される入力欄に日本語テキストを入力
#   3. Enterを押すとゲーム内にペーストされる
#
# 使用例:
#   $ ./minecraft-input.sh
#
# ショートカットキー設定例（i3wm）:
#   bindsym $mod+m exec ~/dotfiles/bin/minecraft-input.sh
#
# 動作説明:
#   1. zenityで入力ダイアログを表示
#   2. 入力されたテキストをクリップボードにコピー
#   3. xdotoolでCtrl+Vキーを送信してゲーム内にペースト
#
# ============================================================

# zenityで入力ダイアログを表示し、入力されたテキストを取得
# tr -d \n で改行を削除（ペースト時の問題を防ぐため）
# xclipでクリップボード（selection clipboard）にコピー
zenity --text="Please enter text:" --entry | tr -d \n | xclip -selection clipboard

# クリップボードへのコピーが完了するまで少し待機
sleep 0.1

# Ctrl+Vキーを送信してペースト
# Minecraftのアクティブウィンドウに対して実行される
xdotool key ctrl+v
